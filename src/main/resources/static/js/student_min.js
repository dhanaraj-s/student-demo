var myApp=angular.module("myApp",["ngRoute","ui.bootstrap","rzModule"]);myApp.config(["$routeProvider",function(a){a.when("/",{templateUrl:"/client/pages/home.html",controller:"studentHomeController"}).when("/enterDetails",{templateUrl:"/client/pages/studentform.html",controller:"studentController"}).when("/displayStudent",{templateUrl:"/client/pages/displaystudent.html",controller:"displayController"}).when("/slider",{templateUrl:"/client/pages/slider.html",controller:"sliderController"})}]),myApp.controller("studentHomeController",["$scope",function(a){a.successalert=!1,a.message="Please share your details!"}]),myApp.factory("studentService",["$http","$q",function(a,b){var c={};return c.savestudent=function(d){var e=b.defer();return a.post("/add",d).success(function(a,b){console.log(b),c.statusvalue="success",e.resolve(c.statusvalue)}).error(function(a,b){console.log(b),c.statusvalue="failure",e.reject(c.statusvalue)}),e.promise},c}]),myApp.controller("studentController",["$scope","studentService","$timeout","$window",function(a,b,c,d){a.successalert=!1,a.mySwitch=!0,a.message="Please share your details!",a.validateFun=function(){void 0!=a.student.name&&void 0!=a.student.age&&void 0!=a.student.id?a.mySwitch=!1:a.mySwitch=!0},a.myFunc=function(e){a.factObj=b.savestudent(e).then(function(b){"success"===b&&(a.successalert=!0),c(function(){a.successalert=!1,c(function(){d.location.href="#displayStudent"},500)},2e3)})}}]),myApp.factory("displayService",["$http","$q",function(a,b){var c={};return c.displaystudent=function(){var c=b.defer();return a.get("/view").success(function(a){c.resolve(a)}).error(function(a){c.reject(a)}),c.promise},c}]),myApp.factory("updateService",["$http","$q",function(a,b){var c={};return c.updatestudent=function(c){var d=b.defer();return a.put("/update/"+c.id,c).success(function(a){console.log(a),d.resolve(a)}).error(function(a){d.reject(a)}),d.promise},c}]),myApp.factory("deleteService",["$http","$q",function(a,b){var c={};return c.deletestudent=function(c){var d=b.defer();return a.delete("/delete/"+c.id).success(function(a){d.resolve(a)}).error(function(a){d.reject(a)}),d.promise},c}]),myApp.controller("displayController",["$scope","displayService","updateService","deleteService",function(a,b,c,d){a.message="Student Details!",a.factObj=b.displaystudent().then(function(b){console.log(b),a.studentArray=b,a.studentArray.selectedstudent={}}),a.getTemplate=function(b){return b.id===a.studentArray.selectedstudent.id?"edit":"display"},a.editFun=function(b){a.studentArray.selectedstudent=angular.copy(b)},a.reset=function(){a.studentArray.selectedstudent={}},a.saveFun=function(b){console.log(b._id),a.factObj=c.updatestudent(b).then(function(b){console.log(b),a.studentArray=b,a.reset()})},a.deleteFun=function(b){console.log(b),a.factObj=d.deletestudent(b).then(function(b){console.log(b),a.studentArray=b,a.reset()})}}]),myApp.controller("sliderController",["$scope",function(a){a.message="Slider!",a.slider={value:12,floor:0,ceil:500,value:100,options:{showSelectionBar:!0}}}]);